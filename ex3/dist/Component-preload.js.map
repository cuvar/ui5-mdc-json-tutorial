{"version":3,"file":"Component-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":[],"sources":["Component-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}},{"offset":{"line":3,"column":0},"map":{"version":3,"file":"Component.js","names":["Component","UIComponent","extend"],"sources":["Component.ts"],"sourcesContent":["import UIComponent from \"sap/ui/core/UIComponent\"\n\n/**\n * @namespace mdc.tutorial\n */\nexport default class Component extends UIComponent {}"],"mappings":"AAAA,gFAEA,MAGqBA,EAAkBC,EAAWC,OAAA,oCAA7BF,CAAS","sourceRoot":""}},{"offset":{"line":6,"column":0},"map":{"version":3,"file":"JSONFilterBarDelegate.js","names":["JSONPropertyInfo","_interopRequireDefault","__JSONPropertyInfo","JSONFilterBarDelegate","Object","assign","FilterBarDelegate","fetchProperties","async","_createValueHelp","oFilterBar","sPropertyName","sPath","oValueHelp","Fragment","load","name","getPayload","valueHelp","addDependent","_createFilterField","sId","oProperty","oFilterField","FilterField","dataType","conditions","propertyKey","required","label","maxConditions","delegate","payload","aDependents","getDependents","find","oD","getId","includes","setValueHelp","addItem","oPI","Element","getElementById"],"sources":["JSONFilterBarDelegate.ts"],"sourcesContent":["import FilterBarDelegate from \"sap/ui/mdc/FilterBarDelegate\"\nimport JSONPropertyInfo from \"mdc/tutorial/model/metadata/JSONPropertyInfo\"\nimport FilterField from \"sap/ui/mdc/FilterField\"\nimport Element from \"sap/ui/core/Element\"\nimport {default as FilterBar, PropertyInfo as FilterBarPropertyInfo} from \"sap/ui/mdc/FilterBar\"\nimport Fragment from \"sap/ui/core/Fragment\"\nimport ValueHelp from \"sap/ui/mdc/ValueHelp\"\n\ninterface FilterBarPayload {\n\tvalueHelp: {\n\t\t[key:string]: string\n\t}\n}\n\nvar JSONFilterBarDelegate = Object.assign({}, FilterBarDelegate)\n\nJSONFilterBarDelegate.fetchProperties = async () => JSONPropertyInfo\n\nconst _createValueHelp = async (oFilterBar:FilterBar, sPropertyName:string) => {\n\tconst sPath = \"mdc.tutorial.view.fragment.\"\n\tconst oValueHelp = await Fragment.load({\n\t\tname: sPath + (oFilterBar.getPayload() as FilterBarPayload).valueHelp[sPropertyName]\n\t}) as unknown as ValueHelp\n\toFilterBar.addDependent(oValueHelp)\n\treturn oValueHelp\n}\n\nconst _createFilterField = async (sId:string, oProperty:FilterBarPropertyInfo, oFilterBar:FilterBar) => {\n\tconst sPropertyName = oProperty.name\n\tconst oFilterField = new FilterField(sId, {\n\t\tdataType: oProperty.dataType,\n\t\tconditions: `{$filters>/conditions/${sPropertyName}}`,\n\t\tpropertyKey: sPropertyName,\n\t\trequired: oProperty.required,\n\t\tlabel: oProperty.label,\n\t\tmaxConditions: oProperty.maxConditions,\n\t\tdelegate: {name: \"sap/ui/mdc/field/FieldBaseDelegate\", payload: {}}\n\t})\n\tif ((oFilterBar.getPayload() as FilterBarPayload).valueHelp[sPropertyName] ) {\n\t\tconst aDependents = oFilterBar.getDependents()\n\t\tlet oValueHelp = aDependents.find((oD) => oD.getId().includes(sPropertyName)) as ValueHelp\n\t\toValueHelp ??= await _createValueHelp(oFilterBar, sPropertyName)\n\t\toFilterField.setValueHelp(oValueHelp)\n\t}\n\treturn oFilterField\n}\n\nJSONFilterBarDelegate.addItem = async (oFilterBar:FilterBar, sPropertyName:string) => {\n\tconst oProperty = JSONPropertyInfo.find((oPI) => oPI.name === sPropertyName) as FilterBarPropertyInfo\n\tconst sId = `${oFilterBar.getId()}--filter--${sPropertyName}`\n\treturn Element.getElementById(sId) ?? await _createFilterField(sId, oProperty, oFilterBar)\n}\n\nexport default JSONFilterBarDelegate"],"mappings":"AAAA,ySACOA,EAAgBC,EAAAC,GAavB,IAAIC,EAAwBC,OAAOC,OAAO,CAAC,EAAGC,GAE9CH,EAAsBI,gBAAkBC,SAAYR,EAEpD,MAAMS,EAAmBD,MAAOE,EAAsBC,KACrD,MAAMC,EAAQ,8BACd,MAAMC,QAAmBC,EAASC,KAAK,CACtCC,KAAMJ,EAASF,EAAWO,aAAkCC,UAAUP,KAEvED,EAAWS,aAAaN,GACxB,OAAOA,CAAU,EAGlB,MAAMO,EAAqBZ,MAAOa,EAAYC,EAAiCZ,KAC9E,MAAMC,EAAgBW,EAAUN,KAChC,MAAMO,EAAe,IAAIC,EAAYH,EAAK,CACzCI,SAAUH,EAAUG,SACpBC,WAAa,yBAAwBf,KACrCgB,YAAahB,EACbiB,SAAUN,EAAUM,SACpBC,MAAOP,EAAUO,MACjBC,cAAeR,EAAUQ,cACzBC,SAAU,CAACf,KAAM,qCAAsCgB,QAAS,CAAC,KAElE,GAAKtB,EAAWO,aAAkCC,UAAUP,GAAiB,CAC5E,MAAMsB,EAAcvB,EAAWwB,gBAC/B,IAAIrB,EAAaoB,EAAYE,KAAMC,GAAOA,EAAGC,QAAQC,SAAS3B,IAC9DE,UAAqBJ,EAAiBC,EAAYC,GAClDY,EAAagB,aAAa1B,EAC3B,CACA,OAAOU,CAAY,EAGpBpB,EAAsBqC,QAAUhC,MAAOE,EAAsBC,KAC5D,MAAMW,EAAYtB,EAAiBmC,KAAMM,GAAQA,EAAIzB,OAASL,GAC9D,MAAMU,EAAO,GAAEX,EAAW2B,oBAAoB1B,IAC9C,OAAO+B,EAAQC,eAAetB,UAAcD,EAAmBC,EAAKC,EAAWZ,EAAW,EAC1F,OAEcP,CAAqB","sourceRoot":"delegate"}},{"offset":{"line":9,"column":0},"map":{"version":3,"file":"JSONTableDelegate.js","names":["JSONPropertyInfo","_interopRequireDefault","__JSONPropertyInfo","JSONTableDelegate","Object","assign","TableDelegate","fetchProperties","async","filter","oPI","name","_createColumn","oPropertyInfo","oTable","sName","sId","getId","Element","getElementById","Column","propertyKey","header","label","template","Text","text","path","type","dataType","addItem","sPropertyName","find","updateBindingInfo","oBindingInfo","call","getPayload","bindingPath","templateShareable","_createSearchFilters","sSearch","aKeys","aFilters","map","aKey","Filter","operator","FilterOperator","Contains","value1","getFilters","getFilter","getSearch","searchKeys","concat"],"sources":["JSONTableDelegate.ts"],"sourcesContent":["import TableDelegate from \"sap/ui/mdc/TableDelegate\"\nimport Text from \"sap/m/Text\"\nimport Element from \"sap/ui/core/Element\"\nimport JSONPropertyInfo from \"mdc/tutorial/model/metadata/JSONPropertyInfo\"\nimport {default as Table, PropertyInfo as TablePropertyInfo} from \"sap/ui/mdc/Table\"\nimport Column from \"sap/ui/mdc/table/Column\"\nimport Filter from \"sap/ui/model/Filter\"\nimport FilterOperator from \"sap/ui/model/FilterOperator\"\nimport FilterBar from \"sap/ui/mdc/FilterBar\"\ninterface TablePayload {\n\tbindingPath: string\n\tsearchKeys: string[]\n}\n\nconst JSONTableDelegate = Object.assign({}, TableDelegate)\n\nJSONTableDelegate.fetchProperties = async () => {\n\treturn JSONPropertyInfo.filter((oPI) => oPI.name !== \"$search\")\n}\n\nconst _createColumn = (oPropertyInfo:TablePropertyInfo, oTable:Table) => {\n\tconst sName = oPropertyInfo.name\n\tconst sId = oTable.getId() + \"---col-\" + sName\n\treturn Element.getElementById(sId) ?? new Column(sId, {\n\t\tpropertyKey: sName,\n\t\theader: oPropertyInfo.label,\n\t\ttemplate: new Text({\n\t\t\ttext: {\n\t\t\t\tpath: \"mountains>\" + sName,\n\t\t\t\ttype: oPropertyInfo.dataType\n\t\t\t}\n\t\t})\n\t})\n}\n\nJSONTableDelegate.addItem = async (oTable:Table, sPropertyName:string) => {\n\tconst oPropertyInfo = JSONPropertyInfo.find((oPI) => oPI.name === sPropertyName)\n\treturn _createColumn(oPropertyInfo, oTable)\n}\n\nJSONTableDelegate.updateBindingInfo = (oTable, oBindingInfo) => {\n\tTableDelegate.updateBindingInfo.call(JSONTableDelegate, oTable, oBindingInfo)\n\toBindingInfo.path = (oTable.getPayload() as TablePayload).bindingPath\n\toBindingInfo.templateShareable = true\n}\n\nconst _createSearchFilters = (sSearch:string, aKeys:string[]) => {\n\tconst aFilters = aKeys.map((aKey) => new Filter({\n\t\tpath: aKey,\n\t\toperator: FilterOperator.Contains,\n\t\tvalue1: sSearch\n\t}))\n\treturn [new Filter(aFilters, false)]\n}\n\nJSONTableDelegate.getFilters = (oTable) => {\n\tconst sSearch = (Element.getElementById(oTable.getFilter()) as FilterBar).getSearch()\n\tconst aKeys = (oTable.getPayload() as TablePayload).searchKeys\n\tlet aFilters = TableDelegate.getFilters(oTable)\n\tif (sSearch && aKeys) {\n\t\taFilters = aFilters.concat(_createSearchFilters(sSearch, aKeys))\n\t}\n\treturn aFilters\n}\n\nexport default JSONTableDelegate"],"mappings":"AAAA,oVAGOA,EAAgBC,EAAAC,GAWvB,MAAMC,EAAoBC,OAAOC,OAAO,CAAC,EAAGC,GAE5CH,EAAkBI,gBAAkBC,SAC5BR,EAAiBS,OAAQC,GAAQA,EAAIC,OAAS,WAGtD,MAAMC,EAAgBA,CAACC,EAAiCC,KACvD,MAAMC,EAAQF,EAAcF,KAC5B,MAAMK,EAAMF,EAAOG,QAAU,UAAYF,EACzC,OAAOG,EAAQC,eAAeH,IAAQ,IAAII,EAAOJ,EAAK,CACrDK,YAAaN,EACbO,OAAQT,EAAcU,MACtBC,SAAU,IAAIC,EAAK,CAClBC,KAAM,CACLC,KAAM,aAAeZ,EACrBa,KAAMf,EAAcgB,aAGrB,EAGH1B,EAAkB2B,QAAUtB,MAAOM,EAAciB,KAChD,MAAMlB,EAAgBb,EAAiBgC,KAAMtB,GAAQA,EAAIC,OAASoB,GAClE,OAAOnB,EAAcC,EAAeC,EAAO,EAG5CX,EAAkB8B,kBAAoB,CAACnB,EAAQoB,KAC9C5B,EAAc2B,kBAAkBE,KAAKhC,EAAmBW,EAAQoB,GAChEA,EAAaP,KAAQb,EAAOsB,aAA8BC,YAC1DH,EAAaI,kBAAoB,IAAI,EAGtC,MAAMC,EAAuBA,CAACC,EAAgBC,KAC7C,MAAMC,EAAWD,EAAME,IAAKC,GAAS,IAAIC,EAAO,CAC/ClB,KAAMiB,EACNE,SAAUC,EAAeC,SACzBC,OAAQT,KAET,MAAO,CAAC,IAAIK,EAAOH,EAAU,OAAO,EAGrCvC,EAAkB+C,WAAcpC,IAC/B,MAAM0B,EAAWtB,EAAQC,eAAeL,EAAOqC,aAA2BC,YAC1E,MAAMX,EAAS3B,EAAOsB,aAA8BiB,WACpD,IAAIX,EAAWpC,EAAc4C,WAAWpC,GACxC,GAAI0B,GAAWC,EAAO,CACrBC,EAAWA,EAASY,OAAOf,EAAqBC,EAASC,GAC1D,CACA,OAAOC,CAAQ,EACf,OAEcvC,CAAiB","sourceRoot":"delegate"}},{"offset":{"line":13,"column":0},"map":{"version":3,"file":"JSONPropertyInfo.js","names":["__exports","name","label","visible","path","dataType","maxConditions"],"sources":["JSONPropertyInfo.ts"],"sourcesContent":["/**\n * @namespace mdc.tutorial.model.metadata\n * \n * Property Example:\n * {\n * \t  \"rank\": 1,\n * \t  \"name\": \"Mount Everest\",\n * \t  \"height\": 8848,\n * \t  \"prominence\": 8848,\n * \t  \"range\": \"Mahalangur Himalaya\",\n * \t  \"coordinates\": \"27°59'17''N 86°55'31''E\",\n * \t  \"parent_mountain\": \"-\",\n * \t  \"first_ascent\": 1953,\n * \t  \"countries\": \"Nepal, China\"\n * }\n */\nexport default [\n\t{\n\t\tname: \"rank\",\n\t\tlabel: \"Rank\",\n\t\tvisible: true,\n\t\tpath: \"rank\",\n\t\tdataType: \"sap.ui.model.type.Integer\"\n\t},{\n\t\tname: \"name\",\n\t\tlabel: \"Name\",\n\t\tvisible: true,\n\t\tpath: \"name\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tname: \"height\",\n\t\tlabel: \"Height\",\n\t\tvisible: true,\n\t\tpath: \"height\",\n\t\tdataType: \"sap.ui.model.type.Integer\"\n\t},{\n\t\tname: \"prominence\",\n\t\tlabel: \"Prominence\",\n\t\tvisible: true,\n\t\tpath: \"prominence\",\n\t\tdataType: \"sap.ui.model.type.Integer\"\n\t},{\n\t\tname: \"range\",\n\t\tlabel: \"Range\",\n\t\tvisible: true,\n\t\tpath: \"range\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tname: \"coordinates\",\n\t\tlabel: \"Coordinates\",\n\t\tvisible: true,\n\t\tpath: \"coordinates\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tname: \"parent_mountain\",\n\t\tlabel: \"Parent Mountain\",\n\t\tvisible: true,\n\t\tpath: \"parent_mountain\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tname: \"first_ascent\",\n\t\tlabel: \"First Ascent\",\n\t\tvisible: true,\n\t\tpath: \"first_ascent\",\n\t\tdataType: \"sap.ui.model.type.Integer\"\n\t},{\n\t\tname: \"countries\",\n\t\tlabel: \"Countries\",\n\t\tvisible: true,\n\t\tpath: \"countries\",\n\t\tdataType: \"sap.ui.model.type.String\"\n\t},{\n\t\tname: \"$search\",\n\t\tlabel: \"Search\",\n\t\tvisible: true,\n\t\tmaxConditions: 1,\n\t\tdataType: \"sap.ui.model.type.String\"\n\t}\n]"],"mappings":"AAAA,sDAAA,IAAAA,EAgBe,CACd,CACCC,KAAM,OACNC,MAAO,OACPC,QAAS,KACTC,KAAM,OACNC,SAAU,6BACT,CACDJ,KAAM,OACNC,MAAO,OACPC,QAAS,KACTC,KAAM,OACNC,SAAU,4BACT,CACDJ,KAAM,SACNC,MAAO,SACPC,QAAS,KACTC,KAAM,SACNC,SAAU,6BACT,CACDJ,KAAM,aACNC,MAAO,aACPC,QAAS,KACTC,KAAM,aACNC,SAAU,6BACT,CACDJ,KAAM,QACNC,MAAO,QACPC,QAAS,KACTC,KAAM,QACNC,SAAU,4BACT,CACDJ,KAAM,cACNC,MAAO,cACPC,QAAS,KACTC,KAAM,cACNC,SAAU,4BACT,CACDJ,KAAM,kBACNC,MAAO,kBACPC,QAAS,KACTC,KAAM,kBACNC,SAAU,4BACT,CACDJ,KAAM,eACNC,MAAO,eACPC,QAAS,KACTC,KAAM,eACNC,SAAU,6BACT,CACDJ,KAAM,YACNC,MAAO,YACPC,QAAS,KACTC,KAAM,YACNC,SAAU,4BACT,CACDJ,KAAM,UACNC,MAAO,SACPC,QAAS,KACTG,cAAe,EACfD,SAAU,6BAEX,OAAAL,CAAA","sourceRoot":"model/metadata"}}]}